# ðŸš€ SRE & App Ops Ultimate Extended Master Grid (1920x1080 Optimized)

| **1. ADVANCED SYSTEMS & AUTOMATION** | **2. NETWORK, SECURITY & K8S DEEP-DIVE** | **3. DATABASE MASTERY (SQL & POSTGRES)** | **4. CLOUD INFRA, JAVA & PROCESS** |
| :--- | :--- | :--- | :--- |
| **LINUX: DIAGNOSTICS & ADMIN** | **NETWORK DIAGNOSTICS** | **SQL READS: REPORTING & JOINS** | **AWS ARCHITECTURE & SERVICES** |
| **`w` / `uptime` / `last`**<br>â€¢ *`w`: Shows active users, TTY, from IP, & Load Avg (1/5/15m).*<br>â€¢ *`last -n 10`: See who logged in recently (Security audit).*<br>â€¢ *`uptime`: Quick check if server rebooted recently.* | **`ss -tulnp` / `netstat -tulpn`**<br>â€¢ *Flags: `-t` (TCP) `-u` (UDP) `-l` (Listening) `-n` (Numeric) `-p` (PID).*<br>â€¢ *Use this to find which Process ID is holding a port.*<br>â€¢ *If port 8080 is blocked, use this to find the culprit.* | **The "15th User" Query (Interview Gold)**<br>`SELECT * FROM users ORDER BY created_at DESC LIMIT 1 OFFSET 14;`<br>â€¢ *`OFFSET 14`: Skips the first 14 rows.*<br>â€¢ *`LIMIT 1`: Returns exactly the 15th record.*<br>â€¢ *Critically useful for pagination logic.* | **EC2 & Auto Scaling (ASG)**<br>â€¢ *Compute layer. ASG adds/removes instances based on CloudWatch Alarms (CPU > 70%).*<br>â€¢ *User Data: Scripts that run on first boot (installing agents).*<br>â€¢ *Security Groups: Instance-level firewall (Stateful).* |
| **`uname -r` / `hostnamectl`**<br>â€¢ *`uname -r`: Kernel version (Crucial for patching).*<br>â€¢ *`hostnamectl`: Set static hostname (e.g., `set-hostname prod-db-01`).*<br>â€¢ *Check Virtualization type (is it EC2, Docker, or bare metal?).* | **`lsof -i :8080` / `fuser -k 8080/tcp`**<br>â€¢ *`lsof`: "List Open Files". Shows open sockets.*<br>â€¢ *`fuser -k`: Instantly kills whatever process is on that port.*<br>â€¢ *Pro-Tip: Use when Tomcat fails to bind `Address already in use`.* | **Set Operations (Union vs Union All)**<br>â€¢ `SELECT id FROM t1 UNION SELECT id FROM t2;`<br>*(Expensive. Sorts and removes duplicates).*<br>â€¢ `SELECT id FROM t1 UNION ALL SELECT id FROM t2;`<br>*(Fast. Appends rows. Keeps duplicates).* | **S3 & VPC Endpoints**<br>â€¢ *S3: Object storage (Lifecycle rules delete old logs).*<br>â€¢ *VPC Endpoint (Gateway): Allows private EC2 (no Internet) to talk to S3.*<br>â€¢ *Security: Use Bucket Policies to restrict IP ranges.* |
| **`systemctl` Service Management**<br>â€¢ `systemctl status <svc>`: *Active/Dead/Failed?*<br>â€¢ `systemctl enable <svc>`: *Start on boot.*<br>â€¢ `systemctl restart <svc>`: *Hard bounce.*<br>â€¢ `systemctl reload <svc>`: *Reload config without downtime.* | **`curl -IvL <URL>`**<br>â€¢ *`-I`: Header only.*<br>â€¢ *`-v`: Verbose (TLS handshake info).*<br>â€¢ *`-L`: Follow redirects (301/302).*<br>â€¢ *Debugs: 404s, SSL expiry, Load Balancer routing.* | **INNER JOIN (The Standard)**<br>`SELECT u.name, o.id FROM users u`<br>`INNER JOIN orders o ON u.id = o.user_id;`<br>â€¢ *Returns ONLY rows where there is a match in BOTH tables.*<br>â€¢ *Users with NO orders are excluded.* | **IAM (Identity & Access Mgmt)**<br>â€¢ *Role: Assigned to EC2/EKS. Uses temporary creds.*<br>â€¢ *User: Physical person (Long-term keys).*<br>â€¢ *Policy: JSON doc defining "Allow" or "Deny" actions.*<br>â€¢ *Trust Policy: Who can assume this role?* |
| **`journalctl` Log Analysis**<br>â€¢ `journalctl -u tomcat -f`: *Follow live logs.*<br>â€¢ `journalctl --since "1 hour ago"`: *Time filter.*<br>â€¢ `journalctl -xe`: *Show end of logs + explanations for errors.*<br>â€¢ *Crucial for debugging "Service Failed to Start".* | **`telnet` vs `nc` (Netcat)**<br>â€¢ `telnet <IP> <Port>`: *Old school check.*<br>â€¢ `nc -zv <IP> <Port>`: *Zero-I/O mode. Very fast.*<br>â€¢ *Usage: Check if Database (5432) or Redis (6379) is reachable.* | **LEFT JOIN (The Troubleshooter)**<br>`SELECT u.name FROM users u`<br>`LEFT JOIN orders o ON u.id = o.user_id`<br>`WHERE o.id IS NULL;`<br>â€¢ *Returns ALL users, even if they have NO orders.*<br>â€¢ *`WHERE IS NULL`: Finds data discrepancies (Orphans).* | **ALB vs NLB (Load Balancing)**<br>â€¢ *ALB (Layer 7): HTTP/HTTPS. Path-based routing. WAF integration.*<br>â€¢ *NLB (Layer 4): TCP/UDP. Extremely fast. Static IPs.*<br>â€¢ *Target Group: Performs the Health Checks.* |
| **`ps -aux` / `grep`**<br>â€¢ `ps -ef | grep java`: *See Java Heap Args (`-Xmx`).*<br>â€¢ `pgrep -f tomcat`: *Get just the PID.*<br>â€¢ `grep -r "ERROR" /var/log/`: *Recursive search.*<br>â€¢ `grep -v "INFO"`: *Invert match (Hide INFO logs).* | **`tcpdump` & `traceroute`**<br>â€¢ `tcpdump -i eth0 port 80`: *Capture live packets.*<br>â€¢ `traceroute <IP>`: *See network hops.*<br>â€¢ *Debugs: Packet loss, latency, routing loops.* | **FULL OUTER JOIN (Reconciliation)**<br>`SELECT * FROM tableA a`<br>`FULL OUTER JOIN tableB b ON a.id = b.id;`<br>â€¢ *Returns EVERYTHING from both sides.*<br>â€¢ *Used to compare two systems (e.g., Billing vs Banking).* | **Route 53 (DNS)**<br>â€¢ *A Record: Name -> IP.*<br>â€¢ *CNAME: Name -> Name.*<br>â€¢ *Alias: Name -> AWS Resource (ELB/S3).*<br>â€¢ *Routing Policies: Simple, Weighted, Failover.* |
| **LINUX: RESOURCE & FILES** | **KUBERNETES: PODS & NODES** | **SQL WRITES: DDL, DML & ADMIN** | **JAVA & SPRING ARCHITECTURE** |
| **`top` / `htop` / `free`**<br>â€¢ *`top`: Press `P` (CPU) or `M` (Mem) to sort.*<br>â€¢ *`Load Average`: 1.00 = 1 CPU fully loaded.*<br>â€¢ *`free -m`: Check `Swap` usage (System slow?).*<br>â€¢ *`vmstat 1`: Live system metrics every second.* | **`kubectl get`**<br>â€¢ `get pods -n <ns> -o wide`: *See Node IP.*<br>â€¢ `get svc`: *ClusterIP vs LoadBalancer.*<br>â€¢ `get deploy`: *Check Desired vs Available.*<br>â€¢ `get events --sort-by=.lastTimestamp`: *Debug.* | **DDL (Data Definition Language)**<br>â€¢ `CREATE TABLE users (id SERIAL PK, name TEXT);`<br>â€¢ `ALTER TABLE users ADD COLUMN email TEXT;`<br>â€¢ `DROP TABLE old_logs;` *(Deletes Data + Structure).*<br>â€¢ `TRUNCATE TABLE logs;` *(Deletes Data, Keeps Structure).* | **Core Java Concepts**<br>â€¢ *Class vs Object: Blueprint vs House.*<br>â€¢ *Interface vs Abstract Class: Contract vs Partial implementation.*<br>â€¢ *Exception Handling: `try-catch-finally` blocks.*<br>â€¢ *Garbage Collection (GC): Auto-memory management.* |
| **`df -h` / `du -sh`**<br>â€¢ `df -hT`: *Check full disk mounts (Type EXT4/XFS).*<br>â€¢ `df -i`: *Check Inode exhaustion (Too many small files).*<br>â€¢ `du -sh *`: *Find which folder is eating space.* | **`kubectl describe` (The RCA Tool)**<br>â€¢ `describe pod <name>`: *See "ImagePullBackOff" or "OOMKilled".*<br>â€¢ `describe node <name>`: *Check Taints/Conditions.*<br>â€¢ *Look at the "Events" section at the bottom.* | **DML (Data Manipulation Language)**<br>â€¢ `INSERT INTO users (name) VALUES ('Tulsi');`<br>â€¢ `UPDATE users SET role='admin' WHERE id=1;`<br>â€¢ `DELETE FROM users WHERE id=1;` *(Logs transaction).*<br>â€¢ *Pro-Tip: Always run a SELECT with the WHERE clause first!* | **Spring Framework Layers**<br>1. **@Controller**: *Handles HTTP Requests (JSON).*<br>2. **@Service**: *Business Logic (Transactions).*<br>3. **@Repository**: *Data Access (Hibernate/JPA).*<br>4. **@Entity**: *Maps Class to DB Table.* |
| **File Permissions (`chmod`/`chown`)**<br>â€¢ `chmod 755`: *Owner(RWX), Group(RX), Others(RX).*<br>â€¢ `chmod +x script.sh`: *Make executable.*<br>â€¢ `chown -R user:group path`: *Recursive ownership fix.*<br>â€¢ *Crucial for fixing "Permission Denied" errors.* | **`kubectl logs` (Observability)**<br>â€¢ `logs -f <pod>`: *Tail live logs.*<br>â€¢ `logs <pod> -c <container>`: *Multi-container pods.*<br>â€¢ `logs -p <pod>`: *View logs of the PREVIOUS crashed instance.* | **Performance Tuning**<br>â€¢ `EXPLAIN ANALYZE SELECT...`: *See query cost.*<br>â€¢ `CREATE INDEX idx_name ON table(col);`: *Speed up lookups.*<br>â€¢ `VACUUM ANALYZE;`: *Clean up dead rows & update stats.*<br>â€¢ `pg_stat_activity`: *Find queries running > 5 minutes.* | **Dependency Injection (DI)**<br>â€¢ *`@Autowired`: Spring automatically creates and links objects.*<br>â€¢ *Inversion of Control (IoC): Framework calls you, you don't call it.*<br>â€¢ *`application.properties`: Config (DB URL, Port).* |
| **Process Management (`kill`)**<br>â€¢ `kill -15 <PID>`: *SIGTERM (Polite stop).*<br>â€¢ `kill -9 <PID>`: *SIGKILL (Force stop).*<br>â€¢ `killall java`: *Kill all java processes.*<br>â€¢ *Use `jstack <PID>` before killing to save debug info.* | **K8s Architecture Components**<br>â€¢ *Control Plane: API Server, Etcd, Scheduler.*<br>â€¢ *Worker Node: Kubelet (Agent), Kube-Proxy (Net), Runtime.*<br>â€¢ *Ingress: External HTTP/S routing (ALB/Nginx).* | **UPSERT (Insert or Update)**<br>`INSERT INTO visits (ip, count) VALUES ('1.1.1.1', 1)`<br>`ON CONFLICT (ip) DO UPDATE`<br>`SET count = visits.count + 1;`<br>â€¢ *Prevents errors if record already exists.* | **Maven (`pom.xml`)**<br>â€¢ *Dependency Mgmt: Defines Libraries (Jars).*<br>â€¢ *Plugins: Compiler, Surefire (Test), War/Jar packaging.*<br>â€¢ *Lifecycle: `clean` -> `compile` -> `test` -> `package` -> `install`.* |
| **BASH AUTOMATION: LOG ROTATION** | **TROUBLESHOOTING PLAYBOOKS (L2/SRE)** | **SQL AGGREGATIONS & WINDOWS** | **INCIDENT & INTERVIEW Q&A** |
| **Script: Prevent Disk Full**<br>`#!/bin/bash`<br>`set -e` *(Exit on error)*<br>`LOG="/opt/tomcat/logs"`<br>`ARCH="/opt/tomcat/archive"`<br>`DATE=$(date +%Y%m%d)`<br><br>`# 1. Compress old logs`<br>`tar -czf $ARCH/log_$DATE.tgz $LOG/*.log`<br><br>`# 2. Clear active file (Zero Downtime)`<br>`truncate -s 0 "$LOG/catalina.out"`<br><br>`# 3. Delete archives > 7 days`<br>`find $ARCH -mtime +7 -delete` | **Scenario 1: Application Down (503/504)**<br>1. *Check Monitoring:* Is it a spike or flatline?<br>2. *Check L7:* `curl -v localhost:8080/health`.<br>3. *Check Process:* `ps -ef | grep java`.<br>4. *Check DB:* Is Postgres accepting connections?<br>5. *Check Logs:* `catalina.out` for DB Timeout.<br><br>**Scenario 2: Slow Performance (Latency)**<br>1. *Check Resources:* `top` (CPU/Load), `iotop` (Disk).<br>2. *Check DB:* Long running queries?<br>3. *Check Network:* High packet loss? (`ping`).<br>4. *Java:* `jstack` to find blocked threads. | **Aggregations**<br>`SELECT COUNT(*), status`<br>`FROM orders`<br>`GROUP BY status`<br>`HAVING COUNT(*) > 10;`<br>â€¢ *Filters groups AFTER aggregation.*<br><br>**Window Functions**<br>`ROW_NUMBER() OVER (PARTITION BY dept ORDER BY salary DESC)`<br>â€¢ *Ranks items within a category.*<br><br>**Case Statement**<br>`SELECT id, CASE`<br>`WHEN age < 18 THEN 'Minor'`<br>`ELSE 'Adult' END`<br>`FROM users;` | **Q: "Troubleshoot a K8s Crash?"**<br>A: *1. `kubectl get pods` (Status).*<br>*2. `kubectl logs <pod>` (App Error).*<br>*3. `kubectl describe` (K8s Error).*<br>*4. `kubectl top nodes` (Infra).*<br><br>**Q: "Explain a 502 vs 504?"**<br>A: *502 (Bad Gateway): Upstream sent invalid response (App crashed/restarting).*<br>*504 (Gateway Timeout): Upstream took too long (DB slow).*<br><br>**Q: "What is a Zombie Process?"**<br>A: *A process that has completed but its parent hasn't read its exit code. Shows as `Z` in `top`.* |
| **Cron Job (Schedule It)**<br>`crontab -e`<br>`0 0 * * * /opt/scripts/rotate_logs.sh`<br>*(Runs every day at midnight)* | **Scenario 3: "Disk is Full"**<br>1. `df -h`: Find the partition.<br>2. `du -sh /var/log/* | sort -h`: Find the big file.<br>3. *Safe Fix:* Don't `rm`. Use `gzip` or `truncate`. | **Transactions**<br>`BEGIN;`<br>`UPDATE acc SET bal = bal - 100 WHERE id=1;`<br>`UPDATE acc SET bal = bal + 100 WHERE id=2;`<br>`COMMIT; -- or ROLLBACK;`<br>â€¢ *ACID Properties: Atomicity, Consistency...* | **Q: "How do you handle P1?"**<br>A: *"1. Ack ticket. 2. Join Bridge. 3. Mitigate (Restart/Rollback). 4. RCA later."*<br><br>**Q: "Self-Driven Example?"**<br>A: *"I scripted log rotation to prevent P1 outages using Bash/Cron."* |