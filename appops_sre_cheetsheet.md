# ðŸš€ SRE & App Ops Ultimate Master Cheat Sheet (1920x1080 Optimized)

| **1. SYSTEM, JAVA & FUNDAMENTALS** | **2. NETWORK, K8S & AUTOMATION** | **3. SQL READS, AWS & TROUBLESHOOTING** | **4. SQL WRITES, PROCESS & INCIDENTS** |
| :--- | :--- | :--- | :--- |
| **LINUX ADMIN & PERMISSIONS** | **NETWORK & CONNECTIVITY** | **ADVANCED SQL: READS & JOINS** | **ADVANCED SQL: DDL/DML/PERF** |
| `w` / `uptime`<br>â†’ *Show who is logged in & system load avg.* | `ss -tuln`<br>â†’ *Fast view of listening TCP/UDP ports.* | **15th User Query:**<br>`SELECT * FROM users ORDER BY id LIMIT 1 OFFSET 14;`<br>â†’ *Offset 14 skips first 14 rows.* | `DROP TABLE old_logs;`<br>â†’ *DDL: Deletes table structure permanently.* |
| `uname -a`<br>â†’ *Print Kernel version, Arch & System info.* | `netstat -tulpn`<br>â†’ *Checks ports + Process IDs (PID).* | **Union (No Dupes):**<br>`SELECT * FROM t1 UNION SELECT * FROM t2;`<br>â†’ *Combines rows; REMOVES duplicates.* | `DELETE FROM users WHERE id=15;`<br>â†’ *DML: Removes specific data row.* |
| `hostnamectl`<br>â†’ *View/Change Hostname, OS & Virt info.* | `lsof -i :8080`<br>â†’ *"List Open Files" - finds who locked port.* | **Union All (Keep Dupes):**<br>`SELECT * FROM t1 UNION ALL SELECT * FROM t2;`<br>â†’ *Combines rows; KEEPS duplicates.* | `ALTER TABLE users ADD COLUMN phone TEXT;`<br>â†’ *DDL: Modifies schema to add field.* |
| `systemctl status <svc>`<br>â†’ *Check if Tomcat/DB is active.* | `telnet <IP> <Port>`<br>â†’ *Test if remote port is reachable.* | **INNER JOIN:**<br>`SELECT * FROM users u JOIN orders o ON u.id=o.uid;`<br>â†’ *Matches records in BOTH tables.* | `TRUNCATE TABLE temp_data;`<br>â†’ *DDL: Empties table fast (keeps structure).* |
| `systemctl restart <svc>`<br>â†’ *Restart service to fix hung app.* | `nc -zv <IP> <Port>`<br>â†’ *Netcat stealth port scan (fast).* | **LEFT JOIN (Crucial):**<br>`SELECT * FROM u LEFT JOIN o ON u.id=o.uid WHERE o.id IS NULL;`<br>â†’ *Finds ORPHANS (Users without Orders).* | `EXPLAIN ANALYZE SELECT ... ;`<br>â†’ *Debugs slow queries via execution cost.* |
| `journalctl -u <svc> -xe`<br>â†’ *Deep dive system logs/boot errors.* | `curl -Iv <URL>`<br>â†’ *Get Headers (-I) & Verbose (-v) status.* | **RIGHT JOIN:**<br>â†’ *Keeps all Right table rows (Rarely used).* | `SELECT pid, state, query FROM pg_stat_activity;`<br>â†’ *Finds stuck/long-running queries.* |
| `chmod 755 <file>`<br>â†’ *Owner=Full, Group/Others=Read+Exec.* | `traceroute <IP>`<br>â†’ *Shows every network hop to dest.* | **FULL OUTER JOIN:**<br>`SELECT * FROM t1 FULL OUTER JOIN t2 ON t1.id=t2.id`<br>â†’ *Keep EVERYTHING (Match + No Match).* | `VACUUM (VERBOSE, ANALYZE);`<br>â†’ *Reclaims storage and updates DB stats.* |
| `chown -R user:group <dir>`<br>â†’ *Recursively fix "Permission Denied".* | `nslookup <domain>`<br>â†’ *Debugs DNS resolution (IP vs Name).* | **EXISTS / SUBQUERIES:**<br>`SELECT * FROM u WHERE EXISTS (SELECT 1...);`<br>â†’ *Fast filter "at least one related row".* | **UPSERT:**<br>`INSERT INTO ... ON CONFLICT (id) DO UPDATE ...`<br>â†’ *Insert or Update if exists.* |
| `find /path -mtime +7 -delete`<br>â†’ *Auto-delete logs older than 7 days.* | `dig <domain> ANY`<br>â†’ *Full DNS record trace (A, MX, CNAME).* | **Primary Key vs Unique:**<br>â†’ *PK = Unique + Not Null. Unique = Allows 1 Null.* | **LOCKS CHECK:**<br>`SELECT pid, mode FROM pg_locks...`<br>â†’ *Identifies blocking queries.* |
| `grep -r "ERROR" /var/log`<br>â†’ *Recursive search for error text.* | `ping -c 4 <IP>`<br>â†’ *Test basic connectivity & packet loss.* | **Window Function:**<br>`ROW_NUMBER() OVER (ORDER BY id)` | **TRANSACTION HYGIENE:**<br>`BEGIN; UPDATE...; COMMIT;` |
| **JAVA & SPRING FRAMEWORK** | **KUBERNETES (K8S) COMPONENTS** | **AWS CLOUD INFRASTRUCTURE** | **OBSERVABILITY & MONITORING** |
| **Class vs Object**<br>â†’ *Blueprint vs Specific Instance.* | `kubectl get pods -n <ns>`<br>â†’ *Lists Pod status & Restarts.* | **EC2 / S3 / IAM / VPC**<br>â†’ *Compute, Storage, Identity, Network.* | **CloudWatch Metrics**<br>â†’ *CPU, Disk I/O, ELB Latency, 5xx Count.* |
| **int vs Integer**<br>â†’ *Primitive (fast) vs Wrapper (Object).* | `kubectl describe pod <name>`<br>â†’ *Debug "Pending/CrashLoop" events.* | **IAM Role**<br>â†’ *Safe permissions for EC2/EKS (No keys).* | **Splunk / Nieman**<br>â†’ *Log Aggregation. Search for "Exception".* |
| **Inheritance**<br>â†’ *Child class reuses Parent code.* | `kubectl logs -f <pod>`<br>â†’ *Stream live app logs (Stack Traces).* | **Security Group (SG)**<br>â†’ *Stateful Firewall. Allow In = Allow Out.* | **Postman / Curl**<br>â†’ *Trace API calls to reproduce errors.* |
| **Polymorphism**<br>â†’ *Method Overloading vs Overriding.* | `kubectl top nodes`<br>â†’ *Check CPU/RAM saturation.* | **NACL (Network ACL)**<br>â†’ *Stateless Firewall. Explicit In & Out rules.* | **Distributed Tracing**<br>â†’ *Tracking Request-ID across Microservices.* |
| **IOC (Inversion of Control)**<br>â†’ *Spring manages object lifecycle.* | **Deployment / StatefulSet**<br>â†’ *Stateless vs Stateful DB apps.* | **ALB / Target Group**<br>â†’ *ALB routes traffic; TG does Health Checks.* | **"Monarch" / Azure One**<br>â†’ *Project-specific monitoring tools.* |
| **DI (Dependency Injection)**<br>â†’ *@Autowired injects dependencies.* | **Service / Ingress**<br>â†’ *Internal LB vs External Route.* | **VPC Endpoint**<br>â†’ *Private S3 tunnel (No Internet Gateway).* | **Alerts & Alarms**<br>â†’ *Thresholds (e.g. CPU > 80% for 5m).* |
| **@RestController**<br>â†’ *Entry point for JSON REST APIs.* | **ConfigMap / Secret**<br>â†’ *Decouples config/passwords from code.* | **Route 53**<br>â†’ *AWS Managed DNS Service.* | **Dashboards**<br>â†’ *RED Metrics (Rate, Errors, Duration).* |
| **@Service**<br>â†’ *Business Logic Layer.* | **PV / PVC**<br>â†’ *Persistent Storage layers.* | **Lambda**<br>â†’ *Serverless Compute Functions.* | |
| **@Repository**<br>â†’ *DAO Layer (Database Access).* | **Control Plane**<br>â†’ *API-Server, ETCD, Scheduler.* | **Auto Scaling Group**<br>â†’ *Scale EC2s based on Load.* | |
| **Maven (`pom.xml`)**<br>â†’ *Dependency Management.* | **Minimal IRSA Gist:**<br>â†’ *Annotate SA with role-arn.* | | |
| **SPRING BOOT TIPS & FLOW** | **BASH AUTOMATION & SCRIPTS** | **TROUBLESHOOTING FLOW (L2/SRE)** | **INCIDENT MANAGEMENT (PROCESS)** |
| **1. DispatcherServlet**<br>â†’ *Front Controller receives HTTP.* | **Header:** `#!/bin/bash`<br>`set -Eeuo pipefail` | **1. Check Monitoring**<br>â†’ *Splunk/CloudWatch for error spikes.* | **SLA (Service Level Agreement)**<br>â†’ *The Deadline (e.g. 99.9% Uptime).* |
| **2. Maps URL to @Controller**<br>â†’ *Finds method for "/api/users".* | **Vars:** `LOG_DIR="/opt/tomcat/logs"`<br>`ARCH="/opt/tomcat/arch"` | **2. Trace API**<br>â†’ *Postman/Curl to reproduce 500/404.* | **MTTR (Mean Time To Recovery)**<br>â†’ *Speed of fix (Critical Metric).* |
| **3. Calls @Service**<br>â†’ *Executes Business Logic.* | **Logic: Log Rotation**<br>`DATE=$(date +%Y%m%d)`<br>`tar -czf $ARCH/log_$DATE.tgz $LOG/*.log` | **3. Check Service Health**<br>â†’ *`systemctl status tomcat` (Active?).* | **RCA (Root Cause Analysis)**<br>â†’ *The "Why" & Prevention Plan.* |
| **4. Calls @Repository**<br>â†’ *Hibernate queries Database.* | **Logic: Clear without Kill**<br>`truncate -s 0 "$LOG_DIR/app.log"` | **4. Check Resources**<br>â†’ *`top` (CPU) & `df -h` (Disk Full).* | **SME (Subject Matter Expert)**<br>â†’ *Person who owns the App Code.* |
| **5. Returns Data**<br>â†’ *SQL result -> Java Object.* | **Logic: Cleanup Old**<br>`find "$LOG" -mtime +7 -delete` | **5. DB & Java Deep-Dive**<br>â†’ *Check SQL Joins & `jstack` (Threads).* | **Bridge Call**<br>â†’ *Live Zoom call for P1 triage.* |
| **6. Returns JSON (200 OK)**<br>â†’ *Response sent to User.* | **Logic: Service Health**<br>`if ! systemctl is-active --quiet tomcat;`<br>`then echo "CRIT: Down"; fi` | **6. K8S Pod Check**<br>â†’ *`kubectl describe pod` / `logs`.* | **Handover**<br>â†’ *Shift transition (India <-> US).* |
| **Config:** `application.properties`<br>**Profiles:** `--spring.profiles.active=prod`<br>**Logs:** `slf4j` (Look for Request-ID) | **Schedule (Crontab):**<br>`0 0 * * * /path/script.sh` | **7. Network Check**<br>â†’ *Check SG / LB Health / Connectivity.* | **SOP**<br>â†’ *Standard Operating Procedure.* |
| **REST API STATUS CODES** | **TOMCAT & DEPLOYMENT OPS** | **INTERVIEW Q&A: TECHNICAL** | **INTERVIEW Q&A: PROCESS** |
| **200 OK / 201 Created**<br>â†’ *Success / Resource Made.* | **`bin/startup.sh`**<br>â†’ *Manual Start script.* | **Q: "Troubleshoot K8s Layers?"**<br>A: 1. `kubectl logs` (App)<br>2. `kubectl describe` (Events)<br>3. `kubectl top nodes` (Infra)<br>4. Network (ALB Health). | **Q: "Automation Example?"**<br>A: "I noticed manual log clearing caused disk alerts. I wrote a Bash script using `tar` and `truncate` to automate rotation via Crontab." |
| **400 Bad Request**<br>â†’ *Client error. Check JSON.* | **`catalina.out`**<br>â†’ *MAIN Log. Check for Stack Traces.* | **Q: "User 15 SQL Query?"**<br>A: "Use LEFT JOIN to find missing data:"<br>`SELECT u.name FROM users u`<br>`LEFT JOIN orders o ON u.id=o.uid`<br>`WHERE u.id=15;` | **Q: "Handle P1 Incident?"**<br>A: 1. Acknowledge & Check SLA.<br>2. Open Bridge Call.<br>3. Mitigation (Restart) first.<br>4. Update every 30m.<br>5. RCA after service up. |
| **401 Unauth / 403 Forbidden**<br>â†’ *Token expired or No Permission.* | **`work/` & `temp/`**<br>â†’ *Clear these to fix cache bugs.* | **Q: "500 vs 504?"**<br>A: "500 is Internal App Crash (Code). 504 is Gateway Timeout (Upstream DB/API slow)." | **Q: "Why SRE?"**<br>A: "I mastered L1 monitoring. I want to move to L2/SRE to fix root causes using Linux, SQL, and Automation." |
| **404 Not Found**<br>â†’ *Wrong URL or WAR not deployed.* | **`setenv.sh`**<br>â†’ *Set JVM Heap (-Xmx / -Xms).* | **Q: "Fix Unhealthy Target?"**<br>A: 1. Check SG (Port 8080).<br>2. Check App Process (`ss -tuln`).<br>3. Check Health Path (`/health`). | **Q: "Shift Handover?"**<br>A: "I summarize Open Tickets, pending P1/P2s, and ongoing deployments to the next team." |
| **500 Internal Error**<br>â†’ *Java Crash. Check Logs.* | **`server.xml`**<br>â†’ *Config Ports (8080) & Connectors.* | **Q: "UNION vs UNION ALL?"**<br>A: "UNION removes duplicates (slower). UNION ALL keeps duplicates (faster)." | **Q: "Self-Driven Example?"**<br>A: "I proactively set up a Health Check script to alert me before users reported downtime." |
| **503/504 Timeout**<br>â†’ *DB slow or LB issue.* | **`systemctl restart tomcat`**<br>â†’ *Standard restart command.* | **Q: "Stateful vs Stateless FW?"**<br>A: "SG is Stateful (Auto-return). NACL is Stateless (Explicit rules)." | |