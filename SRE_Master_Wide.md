# ðŸš€ SRE & App Ops Ultimate Ultra-Wide Master Cheat Sheet (1920x1080 Optimized)

| **1. LINUX ADMIN & AUTOMATION (One-Liners)** | **2. NETWORK & PORT TROUBLESHOOTING** | **3. SQL DEEP-DIVE: JOINS & READS** | **4. SQL DEEP-DIVE: DDL, DML & PERFORMANCE** |
| :--- | :--- | :--- | :--- |
| `w` / `uptime` / `uname -a` â€” Check system load, kernel info, & active users. | `ss -tuln` â€” Fast view of listening TCP/UDP ports. | **15th User:** `SELECT * FROM users ORDER BY id LIMIT 1 OFFSET 14;` (Skip 14 rows). | `DROP TABLE old_logs;` â€” DDL: Deletes table structure permanently. |
| `hostnamectl` â€” View/Set hostname, OS Release & Virtualization details. | `netstat -tulpn` â€” Check ports + Process IDs (PID) owning them. | **Union:** `SELECT * FROM t1 UNION SELECT * FROM t2;` (Combines rows; REMOVES duplicates). | `DELETE FROM users WHERE id=15;` â€” DML: Removes specific data row (User 15). |
| `systemctl status <svc>` / `restart <svc>` â€” Check/Restart service (Tomcat/DB) to fix hung apps. | `lsof -i :8080` â€” "List Open Files" - finds exactly who locked port 8080. | **Union All:** `SELECT * FROM t1 UNION ALL SELECT * FROM t2;` (Combines rows; KEEPS duplicates). | `ALTER TABLE users ADD COLUMN phone TEXT;` â€” DDL: Modifies schema to add a new field. |
| `journalctl -u <svc> -xe` â€” Deep dive into system logs/boot errors for a specific service. | `telnet <IP> <Port>` â€” Legacy test if a remote server port is open/reachable. | **INNER JOIN:** `SELECT * FROM u JOIN o ON u.id=o.uid;` (Matches records in BOTH tables). | `TRUNCATE TABLE temp_data;` â€” DDL: Empties table data fast but keeps structure. |
| `chmod 755 <file>` â€” Permissions: Owner=Full, Group/Others=Read+Exec. | `nc -zv <IP> <Port>` â€” Netcat stealth port scan (faster/cleaner than telnet). | **LEFT JOIN:** `SELECT * FROM u LEFT JOIN o ON u.id=o.uid;` (Finds ORPHANS: Users w/o Orders). | `EXPLAIN ANALYZE SELECT ... ;` â€” Debugs slow queries by showing actual execution cost. |
| `chown -R user:group <dir>` â€” Recursively fixes "Permission Denied" errors on folders. | `curl -Iv <URL>` â€” Fetches Headers (`-I`) & Verbose (`-v`) to debug 404/500 errors. | **RIGHT JOIN:** `SELECT * FROM u RIGHT JOIN o ON u.id=o.uid;` (Keeps all Right table rows). | `SELECT pid, state, query FROM pg_stat_activity;` â€” Finds stuck/long-running DB queries. |
| `find /path -mtime +7 -delete` â€” Automation to delete logs older than 7 days. | `traceroute <IP>` â€” Shows every network hop/router to a destination IP. | **FULL OUTER:** `SELECT * FROM t1 FULL OUTER JOIN t2 ON id;` (Keep Match + No Match). | `VACUUM (VERBOSE, ANALYZE);` â€” Reclaims storage space and updates DB statistics. |
| `grep -r "ERROR" /var/log` â€” Recursive search for error text in all files in a directory. | `nslookup <domain>` / `dig <domain> ANY` â€” Debugs DNS resolution issues (IP vs Name). | **EXISTS:** `SELECT * FROM u WHERE EXISTS (SELECT 1...);` (Fast filter "at least one"). | **UPSERT:** `INSERT INTO ... ON CONFLICT (id) DO UPDATE ...` (Insert or Update if exists). |
| `ps -ef | grep java` â€” Verifies if the Java/Tomcat process is actually running. | `ip route show` â€” Shows the routing table (Gateway/Interface configuration). | **Window:** `ROW_NUMBER() OVER (PARTITION BY dept ORDER BY salary DESC)` (Ranks items). | **LOCKS:** `SELECT pid, mode FROM pg_locks...` (Identifies queries blocking others). |
| `top` / `htop` â€” Real-time CPU/RAM monitor. Press `P` to sort by CPU usage. | `ping -c 4 <IP>` â€” Tests basic connectivity and packet loss to a host. | **Agg:** `SELECT count(*), status FROM orders GROUP BY status HAVING count(*) > 5;` | **TXN:** `BEGIN; UPDATE...; COMMIT;` (Ensures atomic operations - all or nothing). |

| **1. JAVA, OOPS & SPRING FRAMEWORK** | **2. KUBERNETES (K8S) COMPONENTS** | **3. AWS CLOUD INFRASTRUCTURE** | **4. CLOUDWATCH, LOGGING & MONITORING** |
| :--- | :--- | :--- | :--- |
| **Class vs Object** â€” Class is the Blueprint. Object is the specific runtime Instance. | `kubectl get pods -n <ns>` â€” Lists Pod status (Running/Error) & Restart counts. | **EC2 / S3 / IAM / VPC** â€” Core Compute, Storage, Identity, and Network layers. | **CloudWatch Metrics** â€” CPU, Memory, Disk I/O, ELB Latency, 5xx Error Count. |
| **int vs Integer** â€” `int` is Primitive (fast, no null); `Integer` is Wrapper (Object). | `kubectl describe pod <name>` â€” Critical for debugging "Pending" or "CrashLoop" events. | **IAM Role** â€” Safe permissions for machines (EC2/EKS/Lambda) without static keys. | **Splunk / Nieman** â€” Log Aggregation tools. Search for "Exception" or "Error". |
| **Inheritance / Polymorphism** â€” Reusing Parent code / Method Overloading vs Overriding. | `kubectl logs -f <pod>` â€” Streams live application logs (Stack Traces) from container. | **Security Group (SG)** â€” Stateful Firewall (Instance level). Allowing In automatically allows Out. | **Postman / Curl** â€” Trace API calls to reproduce 400/500 errors and check headers. |
| **IOC / DI** â€” Spring manages object lifecycle (IOC) & injects dependencies (`@Autowired`). | `kubectl top nodes` â€” Checks CPU/Memory saturation on nodes to find bottlenecks. | **NACL (Network ACL)** â€” Stateless Firewall (Subnet level). Must explicitly allow In & Out. | **Distributed Tracing** â€” Tracking a unique Request-ID across multiple Microservices. |
| **@RestController / @Service** â€” API Layer (JSON endpoints) -> Business Logic Layer. | **Deployment / StatefulSet** â€” Manages stateless apps vs stateful DB apps (persistent ID). | **ALB / Target Group** â€” ALB routes traffic (Layer 7); TG performs Health Checks on instances. | **"Monarch" / Azure One** â€” Project-specific monitoring tools mentioned in JD. |
| **Maven (`pom.xml`)** â€” Manages project dependencies (jars) and the build process. | **Service / Ingress** â€” Service = Internal Load Balancer; Ingress = External Route (HTTP/S). | **VPC Endpoint** â€” Private tunnel to S3/DynamoDB (No Internet Gateway required). | **Alerts & Alarms** â€” Set on thresholds (e.g., CPU > 80% for 5 mins) to trigger PagerDuty. |
| **Hibernate / JPA** â€” ORM: Maps Java Objects directly to SQL Tables (No manual SQL). | **ConfigMap / Secret** â€” Decouples configuration files & passwords from application code. | **Route 53** â€” AWS Managed DNS Service (A records, CNAMEs, Aliases). | **Dashboards** â€” Visualizing RED metrics (Rate, Errors, Duration) for quick status. |
| **Spring Boot Config** â€” `application.properties`, `@Value`, `--spring.profiles.active=prod`. | **PV / PVC** â€” Persistent Volumes (Storage) that survive Pod restarts. | **Lambda** â€” Serverless Compute Functions (Code runs without managing servers). | **Log Rotation** â€” Critical to prevent disk full. Use `logrotate` or custom bash scripts. |

| **1. SPRING MVC REQUEST FLOW** | **2. BASH AUTOMATION: LOG ROTATION** | **3. TROUBLESHOOTING STEPS (L2/SRE)** | **4. INCIDENT MANAGEMENT & TERMS** |
| :--- | :--- | :--- | :--- |
| **1. DispatcherServlet** â€” The "Front Controller" receiving all incoming HTTP calls. | **Header:** `#!/bin/bash` / `set -Eeuo pipefail` (Fail on error). | **1. Check Monitoring** â€” Check Splunk/CloudWatch for error spikes or flatlines. | **SLA** â€” Service Level Agreement (The Deadline, e.g. "99.9% Uptime"). |
| **2. Maps URL** â€” Finds the right Java method for "/api/users" using `@Controller`. | **Vars:** `LOG_DIR="/opt/tomcat/logs"` / `ARCH="/opt/tomcat/arch"`. | **2. Trace API** â€” Use Postman/Curl to reproduce 500/404 errors locally. | **MTTR** â€” Mean Time To Recovery (Speed of fix). The #1 metric for SREs. |
| **3. Calls Service** â€” Controller passes data to Service layer for Business Logic. | **Compress:** `tar -czf $ARCH/log_$(date +%F).tgz $LOG/*.log` (Zip old logs). | **3. Check Service** â€” `systemctl status tomcat` (Is it active/running?). | **RCA** â€” Root Cause Analysis (The "Why" & Prevention Plan). |
| **4. Calls Repository** â€” Service calls Repository which uses Hibernate to query DB. | **Clear:** `truncate -s 0 "$LOG_DIR/app.log"` (Zero out file without killing app). | **4. Check Resources** â€” `top` (CPU/RAM) & `df -h` (Disk Full = Crash). | **SME** â€” Subject Matter Expert (The person who owns the App/Code logic). |
| **5. Returns Data** â€” SQL result is converted back to Java Object Model. | **Cleanup:** `find "$ARCH" -mtime +7 -delete` (Remove archives > 7 days). | **5. DB & Java** â€” Check SQL Joins (Data gaps) & `jstack` (Thread locks). | **Bridge Call** â€” Live Zoom/Teams call to triage P1 incidents with teams. |
| **6. Returns JSON** â€” Controller serializes object to JSON and sends 200 OK response. | **Schedule:** `crontab -e` -> `0 0 * * * /path/script.sh` (Runs at midnight). | **6. K8S Check** â€” `kubectl describe pod` (Events) / `logs` (Errors). | **Handover** â€” Transferring active tickets/context from India to US shift. |
| **Exceptions:** `@ControllerAdvice` catches crashes and returns friendly 400/500 JSON. | **Health Check:** `if ! curl -s localhost:8080/health; then restart; fi` | **7. Network** â€” Check Security Groups / Load Balancer Health / Connectivity. | **SOP** â€” Standard Operating Procedure (Step-by-step guide for known issues). |

| **1. REST API STATUS CODES** | **2. TOMCAT & DEPLOYMENT OPS** | **3. INTERVIEW Q&A: TECHNICAL** | **4. INTERVIEW Q&A: PROCESS** |
| :--- | :--- | :--- | :--- |
| **200 OK / 201 Created** â€” Success / Resource Made. No action needed. | **`bin/startup.sh`** â€” Manual Start script for Tomcat (if systemctl fails). | **Q: "Troubleshoot K8s?"** â€” A: 1. `kubectl logs` (App) 2. `describe` (Events) 3. `top nodes` (Infra). | **Q: "Automation Example?"** â€” A: "I scripted log rotation using `tar` & `truncate` to stop disk alerts." |
| **400 Bad Request** â€” Client error (Invalid JSON). Check payload. | **`catalina.out`** â€” MAIN Log file. Always check here for Stack Traces first. | **Q: "User 15 Query?"** â€” A: `SELECT * FROM users ORDER BY id LIMIT 1 OFFSET 14;` | **Q: "Handle P1?"** â€” A: 1.Ack 2.Bridge 3.Mitigate(Restart) 4.Communicate 5.RCA. |
| **401 Unauth / 403 Forbidden** â€” Token expired or No Permission (Check IAM/RBAC). | **`work/` & `temp/`** â€” Directories to delete to fix "Ghost" cache/compilation bugs. | **Q: "500 vs 504?"** â€” A: 500=App Crash (Code); 504=Gateway Timeout (Upstream DB/API slow). | **Q: "Why SRE?"** â€” A: "I mastered L1 monitoring. Now I want to fix root causes with code/automation." |
| **404 Not Found** â€” Wrong URL path or WAR file not deployed correctly. | **`setenv.sh`** â€” File to configure JVM Heap Memory (`-Xmx4g -Xms4g`). | **Q: "Fix Unhealthy LB?"** â€” A: 1.Check SG 2.Check App Port (`ss`) 3.Check `/health` path. | **Q: "Shift Handover?"** â€” A: "I summarize Open Tickets, pending P1s, and deployments to US team." |
| **500 Internal Error** â€” Java Code Crash. Check `catalina.out` for Exception. | **`server.xml`** â€” Configuration for Ports (8080) and Connectors. | **Q: "UNION vs ALL?"** â€” A: UNION removes dupes (slower); ALL keeps dupes (faster). | **Q: "Self-Driven?"** â€” A: "I set up a Health Check script to alert me before users reported downtime." |
| **503/504 Timeout** â€” DB is slow, Downstream service dead, or LB timeout. | **`systemctl restart tomcat`** â€” The standard, safe way to restart the application. | **Q: "Left vs Inner?"** â€” A: LEFT finds orphans (missing data); INNER finds matches. | **Q: "15th User Logic?"** â€” A: "Using OFFSET allows pagination logic to skip specific rows." |